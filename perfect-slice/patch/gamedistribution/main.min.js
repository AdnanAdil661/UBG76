ClonerLog || (ClonerLog = console.log);


gdsdk= new function() {
    // ***** INIT *****
    this.getSession= function() {
        return Promise.resolve(true);
    };

    // ***** ADS *****
    this.AdType= {
        "Rewarded": "rewarded",
        "Interstitial": "interstitial",
        "Preroll": "interstitial",
        "Midroll": "interstitial",
        "Display": "display"
    };

    this.Interstitial= function() {
        ClonerLog("gdsdk.Interstitial", arguments);
    };

    this.preloadAd= function() {
        ClonerLog("gdsdk.preloadAd");
        // window.GD_OPTIONS.onEvent({
        //   "name": "SDK_READY",
        //   "message": "Everything is ready.",
        //   "status": "success"
        // });
        return Promise.resolve();
    }

    this.cancelAd= function() {
        return Promise.resolve();
    };

    this.showAd= async function (adType) {
        ClonerLog("gdsdk.showAd", adType, arguments);
        return new Promise((resolve)=> {
            if (adType== "rewarded") {
                return ClonerAdReward(()=> {
                    ClonerLog("gdsdk.showAd.ClonerAdReward", adType);
                    window.GD_OPTIONS && window.GD_OPTIONS.onEvent({
                        name: "SDK_REWARDED_WATCH_COMPLETE",
                        message: "Rewarded",
                        status: "success",
                    });
                    window.GD_OPTIONS && window.GD_OPTIONS.onEvent({
                        name: "SDK_GAME_PAUSE",
                        message: "No Message",
                    });
                    resolve(true);
                });
            } else {
                ClonerAd(()=> {
                    ClonerLog("gdsdk.showAd.ClonerAd", adType);
                        window.GD_OPTIONS && window.GD_OPTIONS.onEvent({
                            name: "SDK_GAME_PAUSE",
                            message: "No Message",
                        });
                    resolve(true);
                });
            }
        });
    }

    this.showBanner= async function() {
        ClonerLog("gdsdk.showBanner", arguments);
        return new Promise((resolve)=> {
            ClonerAd(()=> {
                window.GD_OPTIONS && window.GD_OPTIONS.onEvent({
                    name: "SDK_GAME_START",
                    message: "Reward Skip!",
                });
                resolve(true);
            });
        });
    };

    // ***** EVENTS & LOGS *****
    this.sendEvent= function() {
        ClonerLog("gdsdk.sendEvent", arguments);
    }

    this.openConsole= function() {
        ClonerLog("gdsdk.openConsole", arguments);
    };

    this.leaderboard= {
        "addScore": function() {
        },
        "show": function() {
        }
    };

    window.GD_OPTIONS && window.GD_OPTIONS.onEvent({
        "name": "SDK_READY",
        "message": "Everything is ready.",
        "status": "success"
    });
};
